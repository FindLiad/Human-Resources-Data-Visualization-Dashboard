<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />

    <title>{{ page.title | default: site.title }}</title>

    <!-- Theme -->
    <meta name="color-scheme" content="light dark" />
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#0f3b22" />
    <meta name="theme-color" media="(prefers-color-scheme: dark)"  content="#0b2e1a" />

    <!-- Preload hero image to reduce layout shift (prevents mid-page starts) -->
    {% if site.hero_screenshot_url %}
      <link rel="preload" as="image" href="{{ site.hero_screenshot_url }}">
    {% endif %}

    <!-- Cayman first, then our overrides (cache-busted) -->
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css?v=hrjungle43" />
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/custom.css?v=hrjungle43" />

    <!-- Ultra-early scroll control (runs before content expands) -->
    <script>
      (function () {
        // Force top-of-page on plain loads. We will not override deep links.
        if (!location.hash) {
          try { if ('scrollRestoration' in history) history.scrollRestoration = 'manual'; } catch(e){}
          window.scrollTo(0, 0);
          document.documentElement.scrollTop = 0;
          document.body.scrollTop = 0;
        }
      })();
    </script>
  </head>
  <body>

    <!-- ===== Sticky Top Nav ===== -->
    <nav class="top-nav">
      <div class="brand">✨ Main Menu ✨</div>
      <div class="top-nav__right">
        <a class="nav-btn" href="https://findliad.github.io/Data-Backed-Decision-Making-for-Youtube-Campaigns/">Last Project</a>

        <!-- Home label swaps on mobile -->
        <a class="nav-btn nav-home" href="https://findliad.github.io/">
          <span class="label-desktop">Return to Home Portfolio</span>
          <span class="label-mobile">Home Portfolio</span>
        </a>

        <a class="nav-btn" href="{{ site.next_project_url | default: '#' }}">Next Project</a>
      </div>
    </nav>

    <!-- ===== HERO ===== -->
    <header class="hero-split" id="top">
      <!-- Column 1: Author (desktop/wide screens only) -->
      <aside class="author-card author-card--desktop">
        <div class="author-card__heading">About the Author</div>

        <a href="{{ site.author_photo }}" target="_blank" rel="noopener">
          <img class="author-card__photo" src="{{ site.author_photo }}" alt="{{ site.author }}" />
        </a>

        <div class="author-card__name">{{ site.author }}</div>
        {% if site.author_title %}
          <div class="author-card__title">{{ site.author_title }}</div>
        {% endif %}

        <div class="author-card__links">
          {% for l in site.author_links %}
            <a class="author-card__btn" href="{{ l.url | escape }}" target="_blank" rel="noopener noreferrer">
              {{ l.icon }} {{ l.label }}
            </a>
          {% endfor %}
        </div>
      </aside>

      <!-- Center divider — equal margins both sides -->
      <div class="hero-divider" aria-hidden="true"></div>

      <!-- Column 2: Project -->
      <section class="hero-main">
        <h1 class="hero-main__title">Project 2 | Human Resource Dashboard</h1>
        {% if site.description %}
          <p class="hero-main__tagline">{{ site.description }}</p>
        {% endif %}

        {% if site.hero_screenshot_url %}
          <!-- Reserve aspect ratio to prevent layout shift -->
          <img class="hero-screenshot"
               src="{{ site.hero_screenshot_url }}"
               alt="Dashboard preview"
               decoding="async" fetchpriority="high" />
        {% endif %}

        <!-- Row layout; when wrapping there is no vertical gap between rows -->
        <div class="hero-actions">
          {% if site.live_dashboard_url %}
            <a class="btn" href="{{ site.live_dashboard_url }}" target="_blank" rel="noopener">View Live Dashboard</a>
          {% endif %}
          {% if site.github.repository_url %}
            <a class="btn" href="{{ site.github.repository_url }}" target="_blank" rel="noopener">View on GitHub</a>
          {% endif %}
          <a class="btn" href="{{ site.baseurl }}/assets/docs/Product_Requirements_Document.pdf" target="_blank" rel="noopener">
            View Product Requirements Document
          </a>
        </div>
      </section>
    </header>

    <!-- ===== MAIN ===== -->
    <main id="content" class="main-content" role="main">
      {{ content }}

      <footer class="site-footer">
        {% if site.github.is_project_page %}
          <span class="site-footer-owner">
            <a href="{{ site.github.repository_url }}">{{ site.github.repository_nwo }}</a>
          </span>
        {% endif %}
      </footer>
    </main>

    <!-- Late scroll control (handles images/fonts and bfcache restores on mobile/desktop) -->
    <script>
      (function () {
        // Don't override deep links
        if (location.hash) return;

        function toTop() {
          // Prefer the #top anchor if present (works reliably on mobile in-app browsers)
          var topEl = document.getElementById('top');
          if (topEl) { try { topEl.scrollIntoView({ block: 'start', inline: 'nearest' }); } catch(e){} }
          window.scrollTo(0, 0);
          document.documentElement.scrollTop = 0;
          document.body.scrollTop = 0;
        }

        // On DOM ready and load
        document.addEventListener('DOMContentLoaded', toTop, { once:true });
        window.addEventListener('load', function() {
          requestAnimationFrame(toTop);
          setTimeout(toTop, 0);
          setTimeout(toTop, 100);
          setTimeout(toTop, 250);
        });

        // On bfcache restore (Safari/Firefox mobile)
        window.addEventListener('pageshow', function(e){
          if (e.persisted) toTop();
        });

        // Extra-strong guard for mobile & in-app browsers: add #top once
        try {
          var isMobile = window.matchMedia && window.matchMedia('(max-width: 980px)').matches;
          if (isMobile && !location.hash && !sessionStorage.getItem('forcedTopOnce')) {
            sessionStorage.setItem('forcedTopOnce', '1');
            // Using replace avoids an extra history entry
            location.replace(location.pathname + location.search + '#top');
          }
        } catch(e){}
      })();
    </script>
  </body>
</html>

