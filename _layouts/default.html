<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{{ page.title | default: site.title }}</title>

    <meta name="color-scheme" content="light dark">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#0f3b22">
    <meta name="theme-color" media="(prefers-color-scheme: dark)"  content="#0b2e1a">

    <!-- Cayman first, then our overrides -->
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css?v=hrjungle7">
    <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/custom.css?v=hrjungle7">
  </head>
  <body>
    <!-- ===== Hero (two columns) ===== -->
    <header class="hero-split">
      <!-- Left: Author -->
      <aside class="author-card">
        <div class="author-card__heading">About the Author</div>
        <a href="{{ site.author_photo }}" target="_blank" rel="noopener">
          <img class="author-card__photo" src="{{ site.author_photo }}" alt="{{ site.author }}">
        </a>
        <div class="author-card__name">{{ site.author }}</div>
        {% if site.author_title %}
          <div class="author-card__title">{{ site.author_title }}</div>
        {% endif %}
        <div class="author-card__links">
          {% for l in site.author_links %}
            <a class="author-card__btn" href="{{ l.url | escape }}" target="_blank" rel="noopener noreferrer">
              {{ l.icon }} {{ l.label }}
            </a>
          {% endfor %}
        </div>
      </aside>

      <!-- Right: Project -->
      <section class="hero-main">
        <h1 class="hero-main__title">{{ site.title }}</h1>
        {% if site.description %}
          <p class="hero-main__tagline">{{ site.description }}</p>
        {% endif %}

        {% if site.hero_screenshot_url %}
          <img class="hero-screenshot" src="{{ site.hero_screenshot_url }}" alt="Dashboard preview">
        {% endif %}

        <div class="hero-actions">
          {% if site.live_dashboard_url %}
            <a class="btn" href="{{ site.live_dashboard_url }}" target="_blank" rel="noopener">View Live Dashboard</a>
          {% endif %}
          {% if site.github.repository_url %}
            <a class="btn" href="{{ site.github.repository_url }}" target="_blank" rel="noopener">View on GitHub</a>
          {% endif %}
          <a class="btn" href="{{ site.baseurl }}/assets/docs/Product_Requirements_Document.pdf" target="_blank" rel="noopener">
            View Product Requirements Document
          </a>
        </div>
      </section>
    </header>

    <!-- ===== Main ===== -->
    <main id="content" class="main-content" role="main">
      {{ content }}

      <footer class="site-footer">
        {% if site.github.is_project_page %}
          <span class="site-footer-owner">
            <a href="{{ site.github.repository_url }}">{{ site.github.repository_nwo }}</a>
          </span>
        {% endif %}
      </footer>
    </main>

    <!-- Always open at the very top on mobile + kill scroll restoration -->
    <script>
      (function () {
        try { if ('scrollRestoration' in history) history.scrollRestoration = 'manual'; } catch(e) {}

        function toTop() {
          // Only force on small screens
          if (window.matchMedia('(max-width: 820px)').matches) {
            window.scrollTo({ top: 0, left: 0, behavior: 'instant' in window ? 'instant' : 'auto' });
          }
        }
        document.addEventListener('DOMContentLoaded', toTop, { once: true });
        window.addEventListener('load', function () {
          toTop(); setTimeout(toTop, 0); setTimeout(toTop, 300);
        }, { once: true });
        window.addEventListener('pageshow', toTop);
      })();
    </script>
  </body>
</html>
